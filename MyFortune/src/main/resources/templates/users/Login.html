<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{/layout/commonLayout}"
      xmlns="http://www.w3.org/1999/html">

<!-- Main Content -->
<th:block layout:fragment="content">

    <form method="post" action="/login" onsubmit="return checkLoginForm();">
        <label for="idInp">아이디</label><input type="text" name="id" id="idInp"/> <br>
        <label for="pwdInp">비밀번호</label><input type="password" name="password" id="pwdInp"/>
        <button type="submit">로그인</button>
        <p id="errorAlert" th:text="${errorMessage}"></p>
    </form>

    <p><a href="/join/form">회원가입</a></p>

    <script type="text/javascript">

        const errorAlertObj = document.getElementById('errorAlert');

        function checkLoginForm(){
            let result = false;

            if(!document.getElementById('idInp').value)
                errorAlertObj.innerText = '아이디를 입력해주세요.';
            else if(!document.getElementById('pwdInp').value)
                errorAlertObj.innerText = '비밀번호를 입력해주세요.';
            else {
                errorAlertObj.innerText = '';
                result = true;
            }

            return result;
        }
    </script>

</th:block>
</html>